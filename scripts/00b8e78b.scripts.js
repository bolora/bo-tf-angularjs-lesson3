"use strict";angular.module("boTfAngularjsLesson3App",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"calcController"}).otherwise({redirectTo:"/"})}]).controller("calcController",["$scope",function(a){function b(){a.transaction={},a.lastTransaction={},a.taxRate=8.25,a.tipPercentage=15,a.transactions=[],a.totals={}}b(),a.calculate=function(c){c?b():(a.errorMessage=!1,a.infoMessage=!1,a.transaction.basePrice||(a.errorMessage="Please enter a base meal price."),a.tipPercentage<15&&(a.infoMessage="What freaking cheapskate!"),0/0==parseFloat(a.taxRate)&&(a.errorMessage="Tax rate should be a number. Example: 8.25"),a.errorMessage||(a.transaction.subtotal=parseFloat(a.transaction.basePrice)+parseFloat(a.transaction.basePrice)*parseFloat(a.taxRate)/100,a.transaction.tipAmount=parseFloat(a.transaction.basePrice)*parseFloat(a.tipPercentage)/100,a.transaction.total=parseFloat(a.transaction.subtotal)+parseFloat(a.transaction.tipAmount),a.transactions.push(angular.copy(a.transaction)),a.lastTransaction=angular.copy(a.transaction),a.transaction={},a.totals.tips=0,angular.forEach(a.transactions,function(b){a.totals.tips=a.totals.tips+b.tipAmount}),a.totals.count=a.transactions.length,a.totals.countLabel=1==a.transactions.length?"meal":"meals",a.totals.tipsAvg=a.totals.tips/a.totals.count),$("#base-price").focus())}}]),angular.module("boTfAngularjsLesson3App").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);